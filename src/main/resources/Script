
create table mmr_sys_config_ut(
	id int constraint sys_config_pk primary key,
	param_name varchar2(100),
	param_value  varchar2(500)
);




CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "MMR_TEST_SHEET_DETAIL_UT_VIEW" as
SELECT 
case when testSheetDtl.id is null then 0 else testSheetDtl.id end as TEST_SHEET_DTL_ID,
case when testSheetDtl.mmr_test_sheet_ut_id is null then 0 else testSheetDtl.mmr_test_sheet_ut_id end as mmr_test_sheet_ut_id,
case when testsheetdtl.header_attribute_id is null then base.header_attribute_id else testsheetdtl.header_attribute_id end as header_attribute_id,
header.name as header_attribute_name,
case when testsheetdtl.base_attribute_id is null then base.id else testsheetdtl.base_attribute_id end as base_attribute_id,
base.name as BASE_ATTRIBUTE_NAME,
case when testsheetdtl.base_attribute_sequence_no is null then 0 else testsheetdtl.base_attribute_sequence_no end as base_attribute_sequence_no,
case when testsheetdtl.ismanadatory is null then 0 else testsheetdtl.ismanadatory end as ismanadatory,
case when testsheetdtl.status is null then base.status else testsheetdtl.status end as status
FROM
    mmr_base_attribute_master_ut base
        LEFT JOIN mmr_header_attribute_master_ut header ON base.header_attribute_id = header.id
        LEFT JOIN mmr_test_sheet_detail_ut testSheetDtl ON base.id = testSheetDtl.base_attribute_id
        
        AND testsheetdtl.status=1 AND base.status= 1 AND header.status = 1 
       --AND testSheetDtl.mmr_test_sheet_ut_id in( 82)
        ORDER BY testsheetdtl.base_attribute_sequence_no,testsheetdtl.header_attribute_id;
        
        
  alter table mmr_data_sheet_ut add status_id  int default 1  not null;      